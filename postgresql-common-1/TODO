postgresql TODO
===============

Things that need doing in the new PostgreSQL packaging for Debian.


Man pages are installed in /usr/share/postgresql/<X.Y>/man.  Provide a
program to be run by the postinst script to run update-alternatives
on every manpage to link it to /usr/share/man/man/<X.Y>/<page>

Provide do.maintenance which vacuums all running clusters.

Write a utility to change the port on which a particular postmaster
is running or to create a database and start a postmaster on some
new port:
a.    Prompt for current port (if any);
b.    If current port is not blank:
       shutdown the postmaster on that port
       look up PostgreSQL version from
       /etc/postgresql/cluster.ports
       prompt for new port
       move /etc/postgresql/<oldport> to .../<newport>
       edit /etc/postgresql/<newport>/postgresql.conf 
   else
       prompt for: cluster.ports parameters
       write line in cluster.ports
       create /etc/postgresql/<newport>
       initdb
       move $PGDATA/config files to /etc/postgresql/<newport> and
	 create symlinks in their place
       
c.    Start postmaster on the new port

postgresql-contrib-x.x need to check a file supplied by
postgresql-common to see whether and with what parameters to run
autovacuum.

Should we do a general debconf query for all pg versions? rather than
one per source package?

add $CONFDIR/port, add support for that in pg_ctlcluster and
pg_lscclusters, prefer this in init scripts

determine db version of the default port in pg_wrapper

automatically determine next free port in pg_createcluster

pg_lsclusters: determine whether server is really running

create socket file in pgdata, not in /var/run
